{
  "version": 1,
  "profile": "public-observed-v1",
  "policyRef": "docs/basic-observation-policy.md",
  "commands": [
    {
      "id": "NEW",
      "keyword": "NEW",
      "category": "program",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "new-clears-program"
      ],
      "negativeCaseIds": [
        "new-rejects-arguments"
      ],
      "notes": "プログラムと変数を初期化する。"
    },
    {
      "id": "LIST",
      "keyword": "LIST",
      "category": "program",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "list-prints-lines"
      ],
      "negativeCaseIds": [
        "list-rejects-arguments"
      ],
      "notes": "保存済みの行番号付きプログラムを表示する。"
    },
    {
      "id": "RUN",
      "keyword": "RUN",
      "category": "program",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "run-simple-program"
      ],
      "negativeCaseIds": [
        "run-detects-runaway"
      ],
      "notes": "保存済みプログラムを実行する。"
    },
    {
      "id": "PRINT",
      "keyword": "PRINT",
      "category": "io",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "pokecom-basic-samples"
      ],
      "positiveCaseIds": [
        "print-expression"
      ],
      "negativeCaseIds": [
        "print-rejects-empty-expression"
      ],
      "notes": "文字列リテラルまたは数式リストを出力する。"
    },
    {
      "id": "LET",
      "keyword": "LET",
      "category": "expression",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "let-assignment"
      ],
      "negativeCaseIds": [
        "let-rejects-invalid-var"
      ],
      "notes": "数値変数へ代入する。"
    },
    {
      "id": "INPUT",
      "keyword": "INPUT",
      "category": "io",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "input-immediate"
      ],
      "negativeCaseIds": [
        "input-rejected-in-run"
      ],
      "notes": "即時モードで数値入力を受け付ける。"
    },
    {
      "id": "GOTO",
      "keyword": "GOTO",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "goto-jump"
      ],
      "negativeCaseIds": [
        "goto-missing-line"
      ],
      "notes": "RUN中に指定行へ無条件分岐する。"
    },
    {
      "id": "GOSUB",
      "keyword": "GOSUB",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "gosub-return"
      ],
      "negativeCaseIds": [
        "gosub-missing-line"
      ],
      "notes": "RETURNスタックを使ってサブルーチン呼び出しを行う。"
    },
    {
      "id": "RETURN",
      "keyword": "RETURN",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "gosub-return"
      ],
      "negativeCaseIds": [
        "return-without-gosub"
      ],
      "notes": "RUN中のサブルーチンから復帰する。"
    },
    {
      "id": "IF",
      "keyword": "IF",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "if-then-jump"
      ],
      "negativeCaseIds": [
        "if-rejects-malformed"
      ],
      "notes": "IF <expr> THEN <line> の条件分岐。"
    },
    {
      "id": "END",
      "keyword": "END",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "end-stops-program"
      ],
      "negativeCaseIds": [
        "end-rejects-arguments"
      ],
      "notes": "プログラム実行を終了する。"
    },
    {
      "id": "STOP",
      "keyword": "STOP",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "stop-stops-program"
      ],
      "negativeCaseIds": [
        "stop-rejects-arguments"
      ],
      "notes": "プログラム実行を停止する。"
    },
    {
      "id": "CLS",
      "keyword": "CLS",
      "category": "display",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "pokecom-basic-samples",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "cls-clears-display"
      ],
      "negativeCaseIds": [
        "cls-rejects-arguments"
      ],
      "notes": "マシンアダプタ経由でLCDテキスト層をクリアする。"
    },
    {
      "id": "REM",
      "keyword": "REM",
      "category": "program",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index",
        "ver0-js"
      ],
      "positiveCaseIds": [
        "rem-ignored"
      ],
      "negativeCaseIds": [
        "unknown-command"
      ],
      "notes": "実行時に無視されるコメント文。"
    },
    {
      "id": "FOR",
      "keyword": "FOR",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "for-next-loop"
      ],
      "negativeCaseIds": [
        "next-without-for"
      ],
      "notes": "FOR-NEXT loop with optional STEP is implemented."
    },
    {
      "id": "NEXT",
      "keyword": "NEXT",
      "category": "control",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "for-next-loop"
      ],
      "negativeCaseIds": [
        "next-without-for"
      ],
      "notes": "Loop increment and branch is implemented."
    },
    {
      "id": "DIM",
      "keyword": "DIM",
      "category": "data",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "dim-array-assignment"
      ],
      "negativeCaseIds": [
        "dim-invalid-size"
      ],
      "notes": "Numeric array declaration is implemented."
    },
    {
      "id": "DATA",
      "keyword": "DATA",
      "category": "data",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "data-read-restore"
      ],
      "negativeCaseIds": [
        "read-data-exhausted"
      ],
      "notes": "DATA stream source is implemented."
    },
    {
      "id": "READ",
      "keyword": "READ",
      "category": "data",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "data-read-restore"
      ],
      "negativeCaseIds": [
        "read-data-exhausted"
      ],
      "notes": "Sequential DATA stream read is implemented."
    },
    {
      "id": "RESTORE",
      "keyword": "RESTORE",
      "category": "data",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "data-read-restore"
      ],
      "negativeCaseIds": [
        "restore-missing-line"
      ],
      "notes": "DATA pointer restore is implemented."
    },
    {
      "id": "PEEK",
      "keyword": "PEEK",
      "category": "machine",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "pokecom-basic-samples",
        "akiyan-g850-tech"
      ],
      "positiveCaseIds": [
        "peek-poke-roundtrip"
      ],
      "negativeCaseIds": [
        "peek-invalid-args"
      ],
      "notes": "PEEK(address[,bank]) is implemented; bank is currently accepted and ignored."
    },
    {
      "id": "POKE",
      "keyword": "POKE",
      "category": "machine",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "pokecom-basic-samples",
        "akiyan-g850-tech"
      ],
      "positiveCaseIds": [
        "peek-poke-roundtrip"
      ],
      "negativeCaseIds": [
        "poke-invalid-args"
      ],
      "notes": "POKE address,value is implemented via machine adapter."
    },
    {
      "id": "INP",
      "keyword": "INP",
      "category": "machine",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "akiyan-g850-tech",
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "inp-out-roundtrip"
      ],
      "negativeCaseIds": [
        "inp-invalid-args"
      ],
      "notes": "INP(port) is implemented via machine adapter."
    },
    {
      "id": "OUT",
      "keyword": "OUT",
      "category": "machine",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "pokecom-basic-samples",
        "akiyan-g850-tech"
      ],
      "positiveCaseIds": [
        "inp-out-roundtrip"
      ],
      "negativeCaseIds": [
        "out-invalid-args"
      ],
      "notes": "OUT port,value is implemented via machine adapter."
    },
    {
      "id": "BEEP",
      "keyword": "BEEP",
      "category": "audio",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ashitani-g850-general"
      ],
      "positiveCaseIds": [
        "beep-calls-sleep"
      ],
      "negativeCaseIds": [
        "beep-too-many-args"
      ],
      "notes": "Silent BEEP implementation with bounded sleep is implemented."
    },
    {
      "id": "WAIT",
      "keyword": "WAIT",
      "category": "machine",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "wait-calls-sleep"
      ],
      "negativeCaseIds": [
        "wait-invalid-args"
      ],
      "notes": "WAIT is implemented with tick-based sleep. WAIT without args uses 1 second fallback."
    },
    {
      "id": "LOCATE",
      "keyword": "LOCATE",
      "category": "display",
      "status": "LOCKED",
      "confidence": "DERIVED",
      "implemented": true,
      "evidence": [
        "ver0-doc-index"
      ],
      "positiveCaseIds": [
        "locate-moves-cursor"
      ],
      "negativeCaseIds": [
        "locate-invalid-args"
      ],
      "notes": "LOCATE x[,y[,z]] is implemented. z is accepted but currently ignored."
    }
  ]
}
